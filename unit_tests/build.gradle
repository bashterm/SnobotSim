plugins {
    id 'java'
}

repositories {
    mavenCentral()
}

sourceSets {
    test {
        java {
            srcDirs = ["${rootDir}/unit_tests/src"]
        }
    }
}

apply plugin: 'jacoco'

jacocoTestReport {
    reports {
        xml.enabled true
        html.enabled false
    }
}
check.dependsOn jacocoTestReport


dependencies {
    def osname = org.gradle.internal.os.OperatingSystem.current().getFamilyName();

    //testCompile project(":snobot_sim")
    testCompile project(":snobot_sim_gui")
    testCompile 'junit:junit:4.12'
    testRuntime files('../snobot_sim_gui/build/libs/snobot_sim_gui-uber_native-' + osname + '.jar')
}
